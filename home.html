<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="rokad.css">
</head>

<body>
    <div class="layout">
        <div class="rokad-layout">
            <div class="head">
                <div class="topheading">
                    <h1>Rokad</h1>
                </div>
                <div class="topheading2">
                    <h3>Karyalay</h3>
                    <p id="panchaya_name">hello hello hello hello</p>
                </div>
            </div>
            <table id="rokadTable">
                <tr id="ttrth">
                    <th rowspan="2">Date</th>
                    <th rowspan="2">S.NO</th>
                    <th rowspan="2">Anu ke Mamale me Khata Panna</th>
                    <th rowspan="2">Prapptiyo ke Byore</th>
                    <th colspan="3">Praptiya</th>
                    <th rowspan="2" class="rotate-text">Signature</th>
                </tr>
                <tr>
                    <th>Cash Amount</th>
                    <th>Bank Amount</th>
                    <th>Bajat Ka Lekha Shirsh</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                    <td>8</td>
                </tr>
            </table>
        </div>
        <div class="bahi-layout">
            <div class="head">
                <div class="bahi-topheading">
                    <h1>Bahi</h1>
                </div>
                <div class="topheading2">
                    <h3>Year</h3>
                    <p id="Year_name">2023</p>
                </div>
            </div>
            <table id="bahiTable">
                <tr id="ttrth">
                    <th rowspan="2">Date</th>
                    <th rowspan="2">S.NO</th>
                    <th rowspan="2">E.P.N No.</th>
                    <th rowspan="2">Anu ke Mamale me Khata Panna</th>
                    <th rowspan="2">Prapptiyo ke Byore</th>
                    <th colspan="3">Vyay Ka Vivran</th>
                    <th rowspan="2" class="rotate-text">Signature</th>
                </tr>
                <tr>
                    <th>Cash Amount</th>
                    <th>Bank Amount</th>
                    <th>Bajat Ka Lekha Shirsh</th>
                </tr>
                <tr>
                    <td>9</td>
                    <td>10</td>
                    <td>11</td>
                    <td>12</td>
                    <td>13</td>
                    <td>14</td>
                    <td>15</td>
                    <td>16</td>
                    <td>17</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        // Function to display data in tables
        function rdisplayData(formType) {
            var formCount = localStorage.getItem(formType + "FormCount");

            for (var i = 1; i <= formCount; i++) {
                var formData = localStorage.getItem(formType + "Data" + i);

                if (formData) {
                    formData = JSON.parse(formData);
                    var table = document.getElementById(formType + 'Table');
                    var row = table.insertRow(-1);

                    var Particular = formData['Particular']

                    // Date
                    var cell = row.insertCell(0);
                    cell.innerHTML = formData['Date'];

                    // S.No or E.P.N No.
                    if (Particular != "" || Particular !== "") {
                        var bakiseril = localStorage.getItem("rokadsno");
                        bakiseril++;
                        var cell = row.insertCell(1);
                        cell.innerHTML = bakiseril;
                        localStorage.setItem("rokadsno",bakiseril);
                    } else {
                        var cell = row.insertCell(1);
                        cell.innerHTML = formData['S.no'];
                    }

                    var cell = row.insertCell(2);
                    cell.innerHTML = formData['AKMMKP'];

                    // Particular
                    var cell = row.insertCell(3);
                    cell.innerHTML = formData['Particular'] || "";

                    // Nagad Rashi
                    var cell = row.insertCell(4);
                    cell.innerHTML = formData['Nagad Rashi'] || "";

                    // Bank Rashi
                    var cell = row.insertCell(5);
                    cell.innerHTML = formData['Bank Rashi'] || "";

                    // Bajt LS
                    var cell = row.insertCell(6);
                    cell.innerHTML = formData['Bajt LS'] || "";

                    // Signature
                    var cell = row.insertCell(7);
                    cell.innerHTML = formData['Signature'] || "";
                }
            }
        }

        function bdisplayData(formType) {
            var formCount = localStorage.getItem(formType + "FormCount");

            for (var i = 1; i <= formCount; i++) {
                var formData = localStorage.getItem(formType + "Data" + i);

                if (formData) {
                    formData = JSON.parse(formData);
                    var table = document.getElementById(formType + 'Table');
                    var row = table.insertRow(-1);

                    var Particular = formData['Particular']


                    // Date
                    var cell = row.insertCell(0);
                    cell.innerHTML = formData['Date'];

                    if (Particular != "" || Particular !== "") {
                        var bakiseril = localStorage.getItem("bakisno");
                        bakiseril++;
                        var cell = row.insertCell(1);
                        cell.innerHTML = bakiseril;
                        localStorage.setItem("bakisno",bakiseril);
                    } else {
                        var cell = row.insertCell(1);
                        cell.innerHTML = formData['S.no'];
                    }

                    var cell = row.insertCell(2);
                    cell.innerHTML = formData['AKMMKP'];

                    // S.No or E.P.N No.
                    var cell = row.insertCell(3);
                    cell.innerHTML = formData['E.P.N No.'];

                    // Particular
                    var cell = row.insertCell(4);
                    cell.innerHTML = formData['Particular'] || "";

                    // Nagad Rashi
                    var cell = row.insertCell(5);
                    cell.innerHTML = formData['Nagad Rashi'] || "";

                    // Bank Rashi
                    var cell = row.insertCell(6);
                    cell.innerHTML = formData['Bank Rashi'] || "";

                    // Bajt LS
                    var cell = row.insertCell(7);
                    cell.innerHTML = formData['Bajt LS'] || "";

                    // Signature
                    var cell = row.insertCell(8);
                    cell.innerHTML = formData['Signature'] || "";
                }
            }
        }


        // Display Rokad Form Data
        
        // Display Bahi Form Data
        
        function baki() {
            
            localStorage.setItem("rokadsno", 0);
            rdisplayData('rokad');
            localStorage.setItem("bakisno", 0);
            bdisplayData('bahi');
        }

        baki();
    </script>
</body>

</html>